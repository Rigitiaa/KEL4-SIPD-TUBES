<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="initial-scale=1,user-scalable=no,maximum-scale=1,width=device-width">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <link rel="stylesheet" href="css/leaflet.css">
    <link rel="stylesheet" href="css/L.Control.Layers.Tree.css">
    <link rel="stylesheet" href="css/qgis2web.css">
    <link rel="stylesheet" href="css/fontawesome-all.min.css">
    <style>
        html, body, #map {
            width: 100%;
            height: 100%;
            padding: 0;
            margin: 0;
        }
        body {
            font-family: Arial, sans-serif;
            line-height: 1.6;
        }
        header {
            background: #333;
            color: #fff;
            padding: 10px 20px;
            text-align: center;
        }
        nav ul {
            list-style: none;
            padding: 0;
        }
        nav ul li {
            display: inline;
            margin: 0 10px;
        }
        nav ul li a {
            color: #fff;
            text-decoration: none;
        }
        section {
            padding: 20px;
            margin: 10px;
        }
    </style>
    <title>Implementasi GIS dalam Analisis Kerentanan Banjir Kabupaten Situbondo</title>
</head>
<body>
    <header>
        <h1>Implementasi GIS dalam Analisis Kerentanan Banjir Kabupaten Situbondo</h1>
        <nav>
            <ul>
                <li><a href="#home">Home</a></li>
                <li><a href="#pendahuluan">Pendahuluan</a></li>
                <li><a href="#tinjauan-pustaka">Tinjauan Pustaka</a></li>
                <li><a href="#data">Data</a></li>
                <li><a href="#contact">Contact</a></li>
            </ul>
        </nav>
    </header>
    <section id="pendahuluan">
        <h2>Pendahuluan</h2>
        <p>Banjir sering terjadi di Indonesia, termasuk di Kabupaten Situbondo yang mengalami banjir tahunan akibat hujan deras dan sungai yang meluap. Wilayah perkotaan Situbondo sering terkena banjir karena topografinya cekung, meskipun ada upaya normalisasi sungai dan selokan. Curah hujan yang tinggi dari daerah hulu Kabupaten Bondowoso juga berkontribusi dalam menyebabkan banjir. Penelitian menggunakan GIS dilakukan untuk mengetahui tingkat kerentanan banjir dengan data ketinggian, kelerengan, jarak dari sungai, limpasan air, dan curah hujan, disajikan melalui WebGIS.</p>
    </section>
    <section id="tinjauan-pustaka">
        <h2>Tinjauan Pustaka</h2>
        <p>Jelajahi berbagai lapisan, informasi rinci tentang risiko banjir, dan peta interaktif untuk memahami kerentanan di berbagai wilayah.</p>
    </section>
    <section id="data">
        <h2>Data Sources</h2>
        <p>Data diperoleh dari lembaga terpercaya, menyediakan informasi akurat dan terkini tentang risiko banjir di Situbondo.</p>
    </section>
    <div id="map"></div>
    <section id="contact">
        <h2>Contact</h2>
        <p>Penelitian ini disusun oleh:</p>
        <p>Khalishah Najla Rigitia (5015231080)</p>
        <p>Nazira Qurnia Arsy (5015231091)</p>
        <p>Eka Bayu Kurniawan (5015231159)</p>
        <p>Rizkyani Azizatunnisa (5015231165)</p>
        <p>Abdullah Haritz Rizky (5015231170)</p>
    </section>
    <script src="js/qgis2web_expressions.js"></script>
    <script src="js/leaflet.js"></script>
    <script src="js/L.Control.Layers.Tree.min.js"></script>
    <script src="js/leaflet.rotatedMarker.js"></script>
    <script src="js/leaflet.pattern.js"></script>
    <script src="js/leaflet-hash.js"></script>
    <script src="js/Autolinker.min.js"></script>
    <script src="js/rbush.min.js"></script>
    <script src="js/labelgun.min.js"></script>
    <script src="js/labels.js"></script>
    <script src="data/kerentananbanjir_1.js"></script>
    <script>
        var map = L.map('map', {
            zoomControl: false, maxZoom: 28, minZoom: 1
        }).fitBounds([[-8.350380503427756, 113.09680818763236], [-6.986339706878466, 114.97294621155523]]);
        var hash = new L.Hash(map);
        map.attributionControl.setPrefix('<a href="https://github.com/tomchadwin/qgis2web" target="_blank">qgis2web</a> &middot; <a href="https://leafletjs.com" title="A JS library for interactive maps">Leaflet</a> &middot; <a href="https://qgis.org">QGIS</a>');
        var autolinker = new Autolinker({truncate: {length: 30, location: 'smart'}});

        function removeEmptyRowsFromPopupContent(content, feature) {
            var tempDiv = document.createElement('div');
            tempDiv.innerHTML = content;
            var rows = tempDiv.querySelectorAll('tr');
            for (var i = 0; i < rows.length; i++) {
                var td = rows[i].querySelector('td.visible-with-data');
                var key = td ? td.id : '';
                if (td && td.classList.contains('visible-with-data') && feature.properties[key] == null) {
                    rows[i].parentNode.removeChild(rows[i]);
                }
            }
            return tempDiv.innerHTML;
        }

        function addClassToPopupIfMedia(content, popup) {
            var tempDiv = document.createElement('div');
            tempDiv.innerHTML = content;
            if (tempDiv.querySelector('td img')) {
                popup._contentNode.classList.add('media');
                setTimeout(function() {
                    popup.update();
                }, 10);
            } else {
                popup._contentNode.classList.remove('media');
            }
        }

        var title = new L.Control({'position': 'topright'});
        title.onAdd = function(map) {
            this._div = L.DomUtil.create('div', 'info');
            this.update();
            return this._div;
        };
        title.update = function() {
            this._div.innerHTML = '<h2>WebGIS Kerentanan Banjir Kabupaten Situbondo</h2>';
        };
        title.addTo(map);
        var zoomControl = L.control.zoom({
            position: 'topleft'
        }).addTo(map);
        var bounds_group = new L.featureGroup([]);

        function setBounds() {}

        map.createPane('pane_OSMStandard_0');
        map.getPane('pane_OSMStandard_0').style.zIndex = 400;
        var layer_OSMStandard_0 = L.tileLayer('http://tile.openstreetmap.org/{z}/{x}/{y}.png', {
            pane: 'pane_OSMStandard_0',
            opacity: 1.0,
            attribution: '<a href="https://www.openstreetmap.org/copyright">Â© OpenStreetMap contributors, CC-BY-SA</a>',
            minZoom: 1,
            maxZoom: 28,
            minNativeZoom: 0,
            maxNativeZoom: 19
        });
        map.addLayer(layer_OSMStandard_0);

        function pop_kerentananbanjir_1(feature, layer) {
            var popupContent = '<table>\
                    <tr>\
                        <td class="visible-with-data" id="Kerawanan" colspan="2"><strong>Kerawanan</strong><br />' + (feature.properties['Kerawanan'] !== null ? autolinker.link(feature.properties['Kerawanan'].toLocaleString()) : '') + '</td>\
                    </tr>\
                </table>';
            var content = removeEmptyRowsFromPopupContent(popupContent, feature);
            layer.on('popupopen', function(e) {
                addClassToPopupIfMedia(content, e.popup);
            });
            layer.bindPopup(content, { maxHeight: 400 });
        }

        function style_kerentananbanjir_1_0(feature) {
            switch (String(feature.properties['Kerawanan'])) {
                case 'Tidak Rawan':
                    return {
                        pane: 'pane_kerentananbanjir_1',
                        opacity: 1,
                        color: 'rgba(35,35,35,1.0)',
                        dashArray: '',
                        lineCap: 'butt',
                        lineJoin: 'miter',
                        weight: 1.0, 
                        fill: true,
                        fillOpacity: 1,
                        fillColor: 'rgba(135,76,211,1.0)',
                        interactive: true,
                    };
                case 'Kurang Rawan':
                    return {
                        pane: 'pane_kerentananbanjir_1',
                        opacity: 1,
                        color: 'rgba(35,35,35,1.0)',
                        dashArray: '',
                        lineCap: 'butt',
                        lineJoin: 'miter',
                        weight: 1.0, 
                        fill: true,
                        fillOpacity: 1,
                        fillColor: 'rgba(46,198,221,1.0)',
                        interactive: true,
                    };
                case 'Rawan':
                    return {
                        pane: 'pane_kerentananbanjir_1',
                        opacity: 1,
                        color
